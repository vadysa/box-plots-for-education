{"openapi":"3.0.2","info":{"title":"Алгоритм детекции линии горизонта на основе фильтра Собеля","version":"2.0"},"paths":{"/version":{"get":{"summary":"Возвращает текущую версию сервиса","description":"Возвращает текущую версию сервиса","operationId":"get_version_version_get","responses":{"200":{"description":"Текущая версия сервиса","content":{"text/plain":{"schema":{"type":"string"}}}}}}},"/health":{"get":{"summary":"Get Health","description":"Возвращает статус проверки доступности сервиса","operationId":"get_health_health_get","responses":{"200":{"description":"Статус проверки доступности сервиса","content":{"application/json":{"schema":{}}}}}}},"/api/v1/horizon_line/detect":{"put":{"summary":"Put Horizon Line Detect","description":"Выполняет детекцию линии горизонта с динамичным roi по всем камерам","operationId":"put_horizon_line_detect_api_v1_horizon_line_detect_put","parameters":[{"required":true,"schema":{"title":"Camera Name","type":"string"},"name":"camera_name","in":"query"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_put_horizon_line_detect_api_v1_horizon_line_detect_put"}}},"required":true},"responses":{"200":{"description":"JSON-объект результатов детекции линии горизонта и позиция динамичного ROI"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/regions":{"get":{"summary":"Get Regions","description":"Возвращает актуальный словарь с координатами ROI на оси Y","operationId":"get_regions_api_v1_regions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/horizon_line/correct":{"put":{"summary":"Put Horizon Line Correct","description":"Проверка и корректировка линии горизонта после её детекции","operationId":"put_horizon_line_correct_api_v1_horizon_line_correct_put","requestBody":{"content":{"application/json":{"schema":{"title":"Horizon Lines","type":"object","additionalProperties":{"$ref":"#/components/schemas/HorizonLineDetectionResult"}}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_put_horizon_line_detect_api_v1_horizon_line_detect_put":{"title":"Body_put_horizon_line_detect_api_v1_horizon_line_detect_put","required":["image"],"type":"object","properties":{"image":{"title":"Image","type":"string","format":"binary"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"HorizonLineDetectionResult":{"title":"HorizonLineDetectionResult","required":["horizon_line","confidence"],"type":"object","properties":{"horizon_line":{"$ref":"#/components/schemas/LineF"},"confidence":{"title":"Confidence","type":"number"},"polyline":{"$ref":"#/components/schemas/PolylineF"}}},"LineF":{"title":"LineF","required":["x1","x2","y1","y2"],"type":"object","properties":{"x1":{"title":"X1","type":"number"},"x2":{"title":"X2","type":"number"},"y1":{"title":"Y1","type":"number"},"y2":{"title":"Y2","type":"number"}}},"PolylineF":{"title":"PolylineF","type":"object","properties":{}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}